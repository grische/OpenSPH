\hypertarget{classVariant}{}\section{Variant$<$ T\+Args $>$ Class Template Reference}
\label{classVariant}\index{Variant$<$ T\+Args $>$@{Variant$<$ T\+Args $>$}}


\hyperlink{classVariant}{Variant}, an implementation of type-\/safe union.  




{\ttfamily \#include $<$variant.\+h$>$}

Inheritance diagram for Variant$<$ T\+Args $>$\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classVariant}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classVariant_af496296e133494fb7434275d75b59f9a}{}\label{classVariant_af496296e133494fb7434275d75b59f9a} 
{\footnotesize template$<$typename T $>$ }\\\hyperlink{classVariant_af496296e133494fb7434275d75b59f9a}{Variant} (const T \&value)
\begin{DoxyCompactList}\small\item\em Construct variant from value of stored type. \end{DoxyCompactList}\item 
\hypertarget{classVariant_ad4f43d3af193f9380ab5acf332d0213c}{}\label{classVariant_ad4f43d3af193f9380ab5acf332d0213c} 
{\bfseries Variant} (const \hyperlink{classVariant}{Variant} \&other)
\item 
\hypertarget{classVariant_a9b4058e961015761760424eb4b9bbde0}{}\label{classVariant_a9b4058e961015761760424eb4b9bbde0} 
{\footnotesize template$<$typename T $>$ }\\\hyperlink{classVariant}{Variant} \& \hyperlink{classVariant_a9b4058e961015761760424eb4b9bbde0}{operator=} (const T \&t)
\begin{DoxyCompactList}\small\item\em Universal copy/move operator with type of rhs being one of stored types. \end{DoxyCompactList}\item 
\hypertarget{classVariant_aadde489dd5d2d63a8450f9e6bd67336d}{}\label{classVariant_aadde489dd5d2d63a8450f9e6bd67336d} 
\hyperlink{classVariant}{Variant} \& {\bfseries operator=} (const \hyperlink{classVariant}{Variant} \&other)
\item 
\hypertarget{classVariant_af27bc8ab79fc633e811904f58eba9cf3}{}\label{classVariant_af27bc8ab79fc633e811904f58eba9cf3} 
int {\bfseries get\+Type\+Idx} () const
\item 
{\footnotesize template$<$typename T $>$ }\\\hyperlink{classVariant_a4a9d805a2f8a07ee673d8db8a9f7a524}{operator T \&} ()
\item 
\hypertarget{classVariant_a939142e02efadd71477177b6c4c67b57}{}\label{classVariant_a939142e02efadd71477177b6c4c67b57} 
{\footnotesize template$<$typename T $>$ }\\\hyperlink{classVariant_a939142e02efadd71477177b6c4c67b57}{operator T} () const
\begin{DoxyCompactList}\small\item\em const version \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\\hyperlink{classOptional}{Optional}$<$ T $>$ \hyperlink{classVariant_a478e263679709c8fd398d2bd27a03e1f}{get} () const
\item 
\hypertarget{classVariant_a0cebeee0963fc33019e2be3140f56a1c}{}\label{classVariant_a0cebeee0963fc33019e2be3140f56a1c} 
{\footnotesize template$<$typename T $>$ }\\I\+N\+L\+I\+NE \hyperlink{classVariant_a0cebeee0963fc33019e2be3140f56a1c}{Variant} (T \&\&value)
\begin{DoxyCompactList}\small\item\em Universal copy/move constructor. \end{DoxyCompactList}\item 
\hypertarget{classVariant_a1642eb4657f43ce8c460d7d4a4e452e5}{}\label{classVariant_a1642eb4657f43ce8c460d7d4a4e452e5} 
{\footnotesize template$<$typename T $>$ }\\I\+N\+L\+I\+NE \hyperlink{classVariant}{Variant} \& \hyperlink{classVariant_a1642eb4657f43ce8c460d7d4a4e452e5}{operator=} (T \&\&value)
\begin{DoxyCompactList}\small\item\em Universal copy/move operator. \end{DoxyCompactList}\item 
\hyperlink{classVariant_af2c39ddb0ac48d6e3ec1eac09c08478d}{$\sim$\+Variant} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classVariant_ab2433a4d048f4809d599986713c5a3d8}{set\+Value} (T \&\&value, const int type\+Idx)
\item 
{\footnotesize template$<$typename T $>$ }\\\hyperlink{classVariant_a939142e02efadd71477177b6c4c67b57}{operator T} () const
\item 
\hypertarget{classVariant_a4a9d805a2f8a07ee673d8db8a9f7a524}{}\label{classVariant_a4a9d805a2f8a07ee673d8db8a9f7a524} 
{\footnotesize template$<$typename T $>$ }\\\hyperlink{classVariant_a4a9d805a2f8a07ee673d8db8a9f7a524}{operator T \&} ()
\begin{DoxyCompactList}\small\item\em Cast operator, non-\/const version. \end{DoxyCompactList}\item 
\hypertarget{classVariant_a478e263679709c8fd398d2bd27a03e1f}{}\label{classVariant_a478e263679709c8fd398d2bd27a03e1f} 
{\footnotesize template$<$typename T $>$ }\\\hyperlink{classOptional}{Optional}$<$ T $>$ \hyperlink{classVariant_a478e263679709c8fd398d2bd27a03e1f}{get} () const
\begin{DoxyCompactList}\small\item\em Getter, safer than cast --- returns optional value, uninitialized when the type differs. \end{DoxyCompactList}\item 
\hypertarget{classVariant_a2fa43bbec11f3ed48ee0f354a56838f8}{}\label{classVariant_a2fa43bbec11f3ed48ee0f354a56838f8} 
{\footnotesize template$<$typename T $>$ }\\\hyperlink{classOptional}{Optional}$<$ T \& $>$ \hyperlink{classVariant_a2fa43bbec11f3ed48ee0f354a56838f8}{get} ()
\begin{DoxyCompactList}\small\item\em Getter, non-\/const version. \end{DoxyCompactList}\item 
\hypertarget{classVariant_ace236da93590265ede166ca47c3b1f60}{}\label{classVariant_ace236da93590265ede166ca47c3b1f60} 
constexpr int \hyperlink{classVariant_ace236da93590265ede166ca47c3b1f60}{get\+Allocated\+Size} () const
\begin{DoxyCompactList}\small\item\em Returns the size of the variant. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T\+Functor $>$ }\\void \hyperlink{classVariant_a7a391165290021c00fec1e01059943c7}{execute} (T\+Functor \&\&functor) const
\item 
\hypertarget{classVariant_a4701155a8e941edba3b6480f61b19463}{}\label{classVariant_a4701155a8e941edba3b6480f61b19463} 
{\footnotesize template$<$typename T\+Functor $>$ }\\void \hyperlink{classVariant_a4701155a8e941edba3b6480f61b19463}{execute} (T\+Functor \&\&functor)
\begin{DoxyCompactList}\small\item\em Executes a functor, non-\/const version. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classVariant_a55dc025016fa5ebfcc5ae6f164ebc76f}{}\label{classVariant_a55dc025016fa5ebfcc5ae6f164ebc76f} 
{\footnotesize template$<$typename T\+Stream $>$ }\\T\+Stream \& \hyperlink{classVariant_a55dc025016fa5ebfcc5ae6f164ebc76f}{operator$<$$<$} (T\+Stream \&stream, const \hyperlink{classVariant}{Variant} \&v)
\begin{DoxyCompactList}\small\item\em Prints out currently stored value. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename... T\+Args$>$\newline
class Variant$<$ T\+Args $>$}

\hyperlink{classVariant}{Variant}, an implementation of type-\/safe union. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classVariant_af2c39ddb0ac48d6e3ec1eac09c08478d}{}\label{classVariant_af2c39ddb0ac48d6e3ec1eac09c08478d} 
\index{Variant@{Variant}!````~Variant@{$\sim$\+Variant}}
\index{````~Variant@{$\sim$\+Variant}!Variant@{Variant}}
\subsubsection{\texorpdfstring{$\sim$\+Variant()}{~Variant()}}
{\footnotesize\ttfamily template$<$typename... T\+Args$>$ \\
\hyperlink{classVariant}{Variant}$<$ T\+Args $>$\+::$\sim$\hyperlink{classVariant}{Variant} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Destructor. 

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000024}{Todo}]!!! \end{DoxyRefDesc}


\subsection{Member Function Documentation}
\hypertarget{classVariant_a7a391165290021c00fec1e01059943c7}{}\label{classVariant_a7a391165290021c00fec1e01059943c7} 
\index{Variant@{Variant}!execute@{execute}}
\index{execute@{execute}!Variant@{Variant}}
\subsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily template$<$typename... T\+Args$>$ \\
template$<$typename T\+Functor $>$ \\
void \hyperlink{classVariant}{Variant}$<$ T\+Args $>$\+::execute (\begin{DoxyParamCaption}\item[{T\+Functor \&\&}]{functor }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Executes a functor that takes the currently stored value as a parameter. Either provide a generic functor for all types (using generic lambda), or overload () operator for each type. \hypertarget{classVariant_a478e263679709c8fd398d2bd27a03e1f}{}\label{classVariant_a478e263679709c8fd398d2bd27a03e1f} 
\index{Variant@{Variant}!get@{get}}
\index{get@{get}!Variant@{Variant}}
\subsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily template$<$typename... T\+Args$>$ \\
template$<$typename T $>$ \\
\hyperlink{classOptional}{Optional}$<$T$>$ \hyperlink{classVariant}{Variant}$<$ T\+Args $>$\+::get (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the stored value in the variant. Safer than implicit conversion as it returns N\+O\+T\+H\+I\+NG in case the value is currently not stored in variant. \hypertarget{classVariant_a939142e02efadd71477177b6c4c67b57}{}\label{classVariant_a939142e02efadd71477177b6c4c67b57} 
\index{Variant@{Variant}!operator T@{operator T}}
\index{operator T@{operator T}!Variant@{Variant}}
\subsubsection{\texorpdfstring{operator T()}{operator T()}}
{\footnotesize\ttfamily template$<$typename... T\+Args$>$ \\
template$<$typename T $>$ \\
\hyperlink{classVariant}{Variant}$<$ T\+Args $>$\+::operator T (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Cast operator to one of underlying types. Issues a compile error if the type is not contained in the variant, and a runtime error when the type differs from the currently stored one \hypertarget{classVariant_a4a9d805a2f8a07ee673d8db8a9f7a524}{}\label{classVariant_a4a9d805a2f8a07ee673d8db8a9f7a524} 
\index{Variant@{Variant}!operator T \&@{operator T \&}}
\index{operator T \&@{operator T \&}!Variant@{Variant}}
\subsubsection{\texorpdfstring{operator T \&()}{operator T \&()}}
{\footnotesize\ttfamily template$<$typename... T\+Args$>$ \\
template$<$typename T $>$ \\
\hyperlink{classVariant}{Variant}$<$ T\+Args $>$\+::operator T\& (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Implicit conversion to one of stored values. Performs a compile-\/time check that the type is contained in \hyperlink{classVariant}{Variant}, and runtime check that the variant currently holds value of given type. \hypertarget{classVariant_ab2433a4d048f4809d599986713c5a3d8}{}\label{classVariant_ab2433a4d048f4809d599986713c5a3d8} 
\index{Variant@{Variant}!set\+Value@{set\+Value}}
\index{set\+Value@{set\+Value}!Variant@{Variant}}
\subsubsection{\texorpdfstring{set\+Value()}{setValue()}}
{\footnotesize\ttfamily template$<$typename... T\+Args$>$ \\
template$<$typename T $>$ \\
void \hyperlink{classVariant}{Variant}$<$ T\+Args $>$\+::set\+Value (\begin{DoxyParamCaption}\item[{T \&\&}]{value,  }\item[{const int}]{type\+Idx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Construct by explicitly specifying index of the type. Useful in case we don\textquotesingle{}t have compile-\/time access to the type (reading value from file, for example) 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/pavel/projects/astro/sph2/src/structs/variant.\+h\item 
/home/pavel/projects/astro/sph2/src/structs/variant.\+old.\+h\end{DoxyCompactItemize}
