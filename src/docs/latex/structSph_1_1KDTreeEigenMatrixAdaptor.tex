\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor}{}\section{Sph\+:\+:K\+D\+Tree\+Eigen\+Matrix\+Adaptor$<$ Matrix\+Type, D\+IM, Distance $>$ Struct Template Reference}
\label{structSph_1_1KDTreeEigenMatrixAdaptor}\index{Sph\+::\+K\+D\+Tree\+Eigen\+Matrix\+Adaptor$<$ Matrix\+Type, D\+I\+M, Distance $>$@{Sph\+::\+K\+D\+Tree\+Eigen\+Matrix\+Adaptor$<$ Matrix\+Type, D\+I\+M, Distance $>$}}


{\ttfamily \#include $<$nanoflann.\+h$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_adacdae55d3f287c0bfd67524b0f1ae4c}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_adacdae55d3f287c0bfd67524b0f1ae4c} 
typedef \hyperlink{structSph_1_1KDTreeEigenMatrixAdaptor}{K\+D\+Tree\+Eigen\+Matrix\+Adaptor}$<$ Matrix\+Type, D\+IM, Distance $>$ {\bfseries self\+\_\+t}
\item 
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_ad578c10e7eccabf1feebda462881fb0a}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_ad578c10e7eccabf1feebda462881fb0a} 
typedef Matrix\+Type\+::\+Scalar {\bfseries num\+\_\+t}
\item 
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_a75133f75c59ed0607301a96d560c082a}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_a75133f75c59ed0607301a96d560c082a} 
typedef Matrix\+Type\+::\+Index {\bfseries Index\+Type}
\item 
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_aec2b2f7951d75aa359cf1d2c6823481c}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_aec2b2f7951d75aa359cf1d2c6823481c} 
typedef Distance\+::template traits$<$ num\+\_\+t, \hyperlink{structSph_1_1KDTreeEigenMatrixAdaptor}{self\+\_\+t} $>$\+::distance\+\_\+t {\bfseries metric\+\_\+t}
\item 
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_abdf6e5a32b79f2640eb982cdbaf321e5}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_abdf6e5a32b79f2640eb982cdbaf321e5} 
typedef \hyperlink{classSph_1_1KDTreeSingleIndexAdaptor}{K\+D\+Tree\+Single\+Index\+Adaptor}$<$ metric\+\_\+t, \hyperlink{structSph_1_1KDTreeEigenMatrixAdaptor}{self\+\_\+t}, D\+IM, Index\+Type $>$ {\bfseries index\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structSph_1_1KDTreeEigenMatrixAdaptor_a9968b3bdc08f148f419432a8339f1167}{K\+D\+Tree\+Eigen\+Matrix\+Adaptor} (const int dimensionality, const Matrix\+Type \&mat, const int leaf\+\_\+max\+\_\+size=10)
\begin{DoxyCompactList}\small\item\em The kd-\/tree index for the user to call its methods as usual with any other F\+L\+A\+NN index. \end{DoxyCompactList}\item 
void \hyperlink{structSph_1_1KDTreeEigenMatrixAdaptor_ae1335fbcb8f1189326409a1d582c6cb5}{query} (const num\+\_\+t $\ast$query\+\_\+point, const size\+\_\+t num\+\_\+closest, Index\+Type $\ast$out\+\_\+indices, num\+\_\+t $\ast$out\+\_\+distances\+\_\+sq, const int=10) const
\end{DoxyCompactItemize}
\begin{Indent}{\bf Interface expected by K\+D\+Tree\+Single\+Index\+Adaptor}\par
\begin{DoxyCompactItemize}
\item 
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_a29415a29d18e35f85a547607af77ff36}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_a29415a29d18e35f85a547607af77ff36} 
const \hyperlink{structSph_1_1KDTreeEigenMatrixAdaptor}{self\+\_\+t} \& {\bfseries derived} () const
\item 
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_a08ff232f37f98831214840241ce533b0}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_a08ff232f37f98831214840241ce533b0} 
\hyperlink{structSph_1_1KDTreeEigenMatrixAdaptor}{self\+\_\+t} \& {\bfseries derived} ()
\item 
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_a997746aa0357843f8f408f0606a14abe}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_a997746aa0357843f8f408f0606a14abe} 
size\+\_\+t {\bfseries kdtree\+\_\+get\+\_\+point\+\_\+count} () const
\item 
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_ad021e6fc3289c680fc0c6b0997903edd}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_ad021e6fc3289c680fc0c6b0997903edd} 
num\+\_\+t {\bfseries kdtree\+\_\+distance} (const num\+\_\+t $\ast$p1, const Index\+Type idx\+\_\+p2, Index\+Type size) const
\item 
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_aba83e56df76a23345da096f19d99dbd3}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_aba83e56df76a23345da096f19d99dbd3} 
num\+\_\+t {\bfseries kdtree\+\_\+get\+\_\+pt} (const Index\+Type idx, int dim) const
\item 
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_ae4c86f274b110668c318198af3d96897}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_ae4c86f274b110668c318198af3d96897} 
{\footnotesize template$<$class B\+B\+OX $>$ }\\bool {\bfseries kdtree\+\_\+get\+\_\+bbox} (B\+B\+OX \&) const
\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_a84e218145bfbdbb4b5eec2e4fd5c78f1}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_a84e218145bfbdbb4b5eec2e4fd5c78f1} 
\hyperlink{classSph_1_1KDTreeSingleIndexAdaptor}{index\+\_\+t} $\ast$ {\bfseries index}
\item 
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_ac56802ad9745e240e0885a6a3af6e597}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_ac56802ad9745e240e0885a6a3af6e597} 
const Matrix\+Type \& {\bfseries m\+\_\+data\+\_\+matrix}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$class Matrix\+Type, int D\+IM = -\/1, class Distance = metric\+\_\+\+L2$>$\newline
struct Sph\+::\+K\+D\+Tree\+Eigen\+Matrix\+Adaptor$<$ Matrix\+Type, D\+I\+M, Distance $>$}

An L2-\/metric K\+D-\/tree adaptor for working with data directly stored in an Eigen \hyperlink{classMatrix}{Matrix}, without duplicating the data storage. Each row in the matrix represents a point in the state space.

Example of usage\+: 
\begin{DoxyCode}
Eigen::Matrix<num\_t,Dynamic,Dynamic>  mat;
\textcolor{comment}{// Fill out "mat"...}

\textcolor{keyword}{typedef} KDTreeEigenMatrixAdaptor< Eigen::Matrix<num\_t,Dynamic,Dynamic> >  my\_kd\_tree\_t;
\textcolor{keyword}{const} \textcolor{keywordtype}{int} max\_leaf = 10;
my\_kd\_tree\_t   mat\_index(dimdim, mat, max\_leaf );
mat\_index.index->buildIndex();
mat\_index.index->...
\end{DoxyCode}



\begin{DoxyTemplParams}{Template Parameters}
{\em D\+IM} & If set to $>$0, it specifies a compile-\/time fixed dimensionality for the points in the data set, allowing more compiler optimizations. \\
\hline
{\em Distance} & The distance metric to use\+: \hyperlink{structSph_1_1metric__L1}{metric\+\_\+\+L1}, \hyperlink{structSph_1_1metric__L2}{metric\+\_\+\+L2}, \hyperlink{structSph_1_1metric__L2__Simple}{metric\+\_\+\+L2\+\_\+\+Simple}, etc. \\
\hline
\end{DoxyTemplParams}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_a9968b3bdc08f148f419432a8339f1167}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_a9968b3bdc08f148f419432a8339f1167} 
\index{Sph\+::\+K\+D\+Tree\+Eigen\+Matrix\+Adaptor@{Sph\+::\+K\+D\+Tree\+Eigen\+Matrix\+Adaptor}!K\+D\+Tree\+Eigen\+Matrix\+Adaptor@{K\+D\+Tree\+Eigen\+Matrix\+Adaptor}}
\index{K\+D\+Tree\+Eigen\+Matrix\+Adaptor@{K\+D\+Tree\+Eigen\+Matrix\+Adaptor}!Sph\+::\+K\+D\+Tree\+Eigen\+Matrix\+Adaptor@{Sph\+::\+K\+D\+Tree\+Eigen\+Matrix\+Adaptor}}
\subsubsection{\texorpdfstring{K\+D\+Tree\+Eigen\+Matrix\+Adaptor()}{KDTreeEigenMatrixAdaptor()}}
{\footnotesize\ttfamily template$<$class Matrix\+Type , int D\+IM = -\/1, class Distance  = metric\+\_\+\+L2$>$ \\
\hyperlink{structSph_1_1KDTreeEigenMatrixAdaptor}{Sph\+::\+K\+D\+Tree\+Eigen\+Matrix\+Adaptor}$<$ Matrix\+Type, D\+IM, Distance $>$\+::\hyperlink{structSph_1_1KDTreeEigenMatrixAdaptor}{K\+D\+Tree\+Eigen\+Matrix\+Adaptor} (\begin{DoxyParamCaption}\item[{const int}]{dimensionality,  }\item[{const Matrix\+Type \&}]{mat,  }\item[{const int}]{leaf\+\_\+max\+\_\+size = {\ttfamily 10} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



The kd-\/tree index for the user to call its methods as usual with any other F\+L\+A\+NN index. 

Constructor\+: takes a const ref to the matrix object with the data points 

\subsection{Member Function Documentation}
\hypertarget{structSph_1_1KDTreeEigenMatrixAdaptor_ae1335fbcb8f1189326409a1d582c6cb5}{}\label{structSph_1_1KDTreeEigenMatrixAdaptor_ae1335fbcb8f1189326409a1d582c6cb5} 
\index{Sph\+::\+K\+D\+Tree\+Eigen\+Matrix\+Adaptor@{Sph\+::\+K\+D\+Tree\+Eigen\+Matrix\+Adaptor}!query@{query}}
\index{query@{query}!Sph\+::\+K\+D\+Tree\+Eigen\+Matrix\+Adaptor@{Sph\+::\+K\+D\+Tree\+Eigen\+Matrix\+Adaptor}}
\subsubsection{\texorpdfstring{query()}{query()}}
{\footnotesize\ttfamily template$<$class Matrix\+Type , int D\+IM = -\/1, class Distance  = metric\+\_\+\+L2$>$ \\
void \hyperlink{structSph_1_1KDTreeEigenMatrixAdaptor}{Sph\+::\+K\+D\+Tree\+Eigen\+Matrix\+Adaptor}$<$ Matrix\+Type, D\+IM, Distance $>$\+::query (\begin{DoxyParamCaption}\item[{const num\+\_\+t $\ast$}]{query\+\_\+point,  }\item[{const size\+\_\+t}]{num\+\_\+closest,  }\item[{Index\+Type $\ast$}]{out\+\_\+indices,  }\item[{num\+\_\+t $\ast$}]{out\+\_\+distances\+\_\+sq,  }\item[{const int}]{ = {\ttfamily 10} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Query for the {\itshape num\+\_\+closest} closest points to a given point (entered as query\+\_\+point\mbox{[}0\+:dim-\/1\mbox{]}). Note that this is a short-\/cut method for index-\/$>$find\+Neighbors(). The user can also call index-\/$>$... methods as desired. \begin{DoxyNote}{Note}
n\+Checks\+\_\+\+I\+G\+N\+O\+R\+ED is ignored but kept for compatibility with the original F\+L\+A\+NN interface. 
\end{DoxyNote}


The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/pavel/projects/astro/sph2/src/tree/nanoflann.\+h\end{DoxyCompactItemize}
